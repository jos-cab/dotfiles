# ===================================================================
# == Essential Ranger Keybindings
# ===================================================================

# Basic navigation and control
map Q quitall
map q quit
map R reload_cwd
map <C-r> reset
map <C-l> redraw_window
map <C-c> abort
map <esc> change_mode normal

# File operations
map i display_file
map ? help
map S shell $SHELL
map : console
map ! console shell%space

# Movement
map <UP> move up=1
map <DOWN> move down=1
map <LEFT> move left=1
map <RIGHT> move right=1
map <HOME> move to=0
map <END> move to=-1
map <PAGEDOWN> move down=1 pages=True
map <PAGEUP> move up=1 pages=True
map <CR> move right=1

# VIM-like movement
map k move up=1
map j move down=1
map h move left=1
map l move right=1
map gg move to=0
map G move to=-1

# File management
map <Space> mark_files toggle=True
map v mark_files all=True toggle=True
map uv mark_files all=True val=False

# Copy/Cut/Paste
map yy copy
map dd cut
map pp paste
map dD console delete

# Search
map / console search%space
map n search_next
map N search_next forward=False

# Tabs
map <C-n> tab_new
map <C-w> tab_close
map <TAB> tab_move 1
map <S-TAB> tab_move -1

# Settings
map zh set show_hidden!
map zi set preview_images!

# Archive management (using unar - The Unarchiver)
map ,e shell -w unar "%f"
map ,x shell -w unar "%f"

# Specific extraction
map ,uz shell -w unzip "%f"
map ,ut shell -w tar -xf "%f"
map ,u7 shell -w 7z x "%f"

# Compression
map ,z shell -w zip -r "%f.zip" %s
map ,t shell -w tar -czf "%f.tar.gz" %s
map ,7 shell -w 7z a "%f.7z" %s

# Delete keys
map <DELETE> console delete
map <BACKSPACE> console delete

# Devicons
map Mi linemode devicons
map Mf linemode filename

# Markdown preview
map ,mp markdown_preview
map ,mh markdown_html